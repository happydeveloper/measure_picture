<!DOCTYPE html>
<html>
<head>
	<meta charset=utf-8 />
<!--<meta name="viewport" content="initial-scale = 0.5,maximum-scale = 1.0" />-->

	<title>image measurement</title>
	<script type="text/javascript" src="./util.js"></script>
	<script type="text/javascript" src="./controller.js"></script>

	<link rel="stylesheet" type="text/css" href="layout.css">
</head>
<body>
	<h1>Prototype</h1>
	<div id="image_area">
	<p>this is imagearea</p>
	<div id="result">
	</div>
	<img id="measure_img" src="./img/FTO_AL2O3_TiCl_m003.jpg" border="0" width="50%" height="50%" alt="2560, 1920" />
	<canvas id="myCanvas" width="578" height="280"></canvas>
	<button id="calibrate_ruler">calibarate ruler </button>

		
	<input id="actual_ruller_distance" type="text" />
	<form>
		<input type="radio" name="unit" id="u" value="u">meter<br>
		<input type="radio" name="unit" id="cm" value="u1">centi meter<br>
		<input type="radio" name="unit" id="mm" value="u2">milli meter<br>
		<input type="radio" name="unit" id="um" value="u3">micro meter<br>
		<input type="radio" name="unit" id="nm" value="u4">nano meter<br>
		<input type="radio" name="unit" id="angstrom" value="u5"> Angstrom<br>
	</form>
	<div id="meta_info_picture">
		<ul>
			<li id="meta_info_1"> 이미지와 캔버스의 비율 : 동적으로 변경 받아가져와 붙힘</li>
			<li id="meta_info_2"> 실제 이미지 픽셀 : 동적으로 변경 받아아가져와 붙힘</li>
			<li id="meta_info_3"> 캔버스 픽셀 : 동적으로 받아 가져와 변경</li>
		</ul> 
	<div>
	<div id="result_disply">
	</div>
	<script type="text/javascript">
	//save measure_values
	//common variable
		var coordinates = [];
		var pos_x;
		var pos_y;

	//base variable
		var windows_ruler_fixel_distance_val, actual_ruler_distance_val, image_ruler_fixel_distance;
		var ratio_img_win, ratio_imgRul_winRul, ratio_actRul_img, ratio_actRul_winRul;

	//2560, 1920
	
	function Cal_ratio_img_win(actual_img_pixel_width, win_img_pixel_width)
	{
		return ratio_img_win = actual_img_pixel_width / win_img_pixel_width;
	}
	function wpxToipx(windows_pixcel_measure_distance, ratio_img_win){
		//actual image width pixel/canvas image width pixel
		result = this.ratio_img_win * windows_pixcel_measure_distance;
		document.getElementById("result_disply").innerHTML = "<p> 실제 사진 픽셀 거리는 :: "+ result + " 이다.</p>";
	}
     //1.00um / 측정 값 148.000px
     //실제 크기와 현재 이미지간에 비율을 구할 수 있다.
     //parameter 1 : 실제 측정 기준(자) 거리 
     //parameter 2 : 원도우 측정된 기준자 픽셀 거리
     //return : 실제 거리와 이미지간에 비율을 리턴
     function getRatio(actual_ruler_distance_val, windows_ruler_fixel_distance_val) {
		return ratio_actRul_winRul=actual_ruler_distance_val/windows_ruler_fixel_distance_val;
	}

	//실제 거리 구하기 = 원도우 필셀을 실제 거리로 환산
	//parameter 1 : 원도우 이미지와 실제 이미지이의 비율 
	//parameter 2 : 원도우에서 측정한 거리
	//return : 실제 거리
	function getWpxToApx(ratio_actRul_winRul, winPix ){
		return ratio_actRul_winRul * winPix;
	}
	


	</script>
	<script>
	//controller_layer
		controller_img_tag();

		controller_btn_calibrate();
	     
	//MyCanvas
		controller_canvas_tag();
	
			
    </script>
</body>
</html>
